<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Population Growth Visualization</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f7fa;
      color: #333;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 20px;
    }
    
    h1 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 30px;
    }
    
    .chart-container {
      position: relative;
      height: 400px;
      margin-bottom: 20px;
    }
    
    .bar {
      position: absolute;
      bottom: 0;
      width: 60px;
      transition: height 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      border-radius: 4px 4px 0 0;
    }
    
    .bar-label {
      position: absolute;
      bottom: -30px;
      width: 60px;
      text-align: center;
      font-size: 14px;
    }
    
    .tooltip {
      position: absolute;
      background-color: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 8px 12px;
      border-radius: 4px;
      font-size: 14px;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s;
      z-index: 10;
    }
    
    .controls {
      display: flex;
      justify-content: center;
      margin-top: 50px;
      gap: 10px;
    }
    
    button {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: #2980b9;
    }
    
    .y-axis {
      position: absolute;
      left: -50px;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      color: #7f8c8d;
      font-size: 12px;
    }
    
    .y-axis-label {
      transform: translateY(50%);
    }
    
    .title {
      font-weight: normal;
      color: #7f8c8d;
      text-align: center;
      margin-top: 40px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Global Population Growth</h1>
    <h2 class="title">1950-2020 (billions)</h2>
    
    <div class="chart-container">
      <div class="y-axis">
        <div class="y-axis-label">8B</div>
        <div class="y-axis-label">6B</div>
        <div class="y-axis-label">4B</div>
        <div class="y-axis-label">2B</div>
        <div class="y-axis-label">0</div>
      </div>
      <div id="tooltip" class="tooltip"></div>
    </div>
    
    <div class="controls">
      <button id="animate">Animate Growth</button>
      <button id="reset">Reset</button>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const chartContainer = document.querySelector('.chart-container');
      const tooltip = document.getElementById('tooltip');
      const animateBtn = document.getElementById('animate');
      const resetBtn = document.getElementById('reset');
      
      // Population data in billions
      const populationData = [
        { year: 1950, population: 2.5 },
        { year: 1960, population: 3.0 },
        { year: 1970, population: 3.7 },
        { year: 1980, population: 4.4 },
        { year: 1990, population: 5.3 },
        { year: 2000, population: 6.1 },
        { year: 2010, population: 6.9 },
        { year: 2020, population: 7.8 }
      ];
      
      // Colors for bars
      const colors = [
        '#3498db', '#2980b9', '#1abc9c', '#16a085', 
        '#2ecc71', '#27ae60', '#f1c40f', '#f39c12'
      ];
      
      // Max value for scaling
      const maxPopulation = Math.max(...populationData.map(d => d.population));
      const chartHeight = 400;
      const barWidth = 60;
      const gap = 20;
      
      // Create bars
      populationData.forEach((data, index) => {
        // Create bar
        const bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.left = `${index * (barWidth + gap) + 50}px`;
        bar.style.backgroundColor = colors[index];
        bar.style.height = '0px';
        bar.style.width = `${barWidth}px`; // Explicitly set width
        
        // Set data attributes
        bar.dataset.year = data.year;
        bar.dataset.population = data.population;
        bar.dataset.index = index;
        
        // Create label
        const label = document.createElement('div');
        label.className = 'bar-label';
        label.textContent = data.year;
        label.style.left = `${index * (barWidth + gap) + 50}px`;
        
        // Add elements to container
        chartContainer.appendChild(bar);
        chartContainer.appendChild(label);
        
        // Add event listeners
        bar.addEventListener('mouseenter', showTooltip);
        bar.addEventListener('mouseleave', hideTooltip);
      });
      
      function showTooltip(e) {
        const bar = e.target;
        const year = bar.dataset.year;
        const population = bar.dataset.population;
        
        tooltip.textContent = `${year}: ${population} billion`;
        tooltip.style.opacity = '1';
        
        // Calculate position after tooltip has content
        setTimeout(() => {
          const rect = bar.getBoundingClientRect();
          const containerRect = chartContainer.getBoundingClientRect();
          
          tooltip.style.left = `${rect.left - containerRect.left + (barWidth / 2) - (tooltip.offsetWidth / 2)}px`;
          tooltip.style.top = `${rect.top - containerRect.top - tooltip.offsetHeight - 10}px`;
        }, 0);
      }
      
      function hideTooltip() {
        tooltip.style.opacity = '0';
      }
      
      function animateChart() {
        const bars = document.querySelectorAll('.bar');
        bars.forEach((bar, index) => {
          setTimeout(() => {
            const height = (bar.dataset.population / maxPopulation) * chartHeight;
            bar.style.height = `${height}px`;
          }, index * 300);
        });
      }
      
      function resetChart() {
        const bars = document.querySelectorAll('.bar');
        bars.forEach(bar => {
          bar.style.height = '0px';
        });
      }
      
      // Add button event listeners
      animateBtn.addEventListener('click', animateChart);
      resetBtn.addEventListener('click', resetChart);
      
      // Initial animation
      setTimeout(animateChart, 800);
    });
  </script>
</body>
</html>
